import{b as k,r as n,j as e}from"./index-CeAIKK5M.js";import{I as E}from"./ImageUploader-DKpRQ7u-.js";import{I as u,T as F,S,a as $}from"./Inputs-BKIDU49l.js";function V(){const{achievements:x,addAchievement:v,updateAchievement:j,deleteAchievement:y}=k(),[l,d]=n.useState(null),[r,o]=n.useState(!1),[c,w]=n.useState(""),[m,N]=n.useState("All"),b=["All","Certificate","Award","Hackathon","Achievement","Conference","Other"],A=b.filter(t=>t!=="All"),[s,a]=n.useState({title:"",description:"",date:"",category:"Certificate",image:"",proofUrl:"",isVisible:!0}),f=n.useMemo(()=>{let t=x;if(m!=="All"&&(t=t.filter(i=>i.category===m)),c){const i=c.toLowerCase();t=t.filter(p=>p.title.toLowerCase().includes(i)||p.description.toLowerCase().includes(i))}return t},[x,m,c]),C=t=>{o(!1),d(t),a({...t})},h=()=>{d(null),o(!0),a({title:"",description:"",date:new Date().getFullYear().toString(),category:"Certificate",image:"",proofUrl:"",isVisible:!0})},D=async t=>{t.preventDefault();try{r?(await v(s),o(!1),a({title:"",description:"",date:"",category:"Certificate",image:"",proofUrl:"",isVisible:!0})):l&&await j(l.id,s)}catch(i){console.error("Failed to save achievement",i)}},g=async()=>{l&&window.confirm(`Delete "${l.title}"?`)&&(await y(l.id),d(null),o(!1))};return e.jsxs("div",{className:"flex h-[calc(100vh-4rem)] md:h-[calc(100vh-8rem)] gap-0 bg-white md:border border-[#DADCE0] md:rounded-lg shadow-sm overflow-hidden relative",children:[e.jsxs("div",{className:`w-full md:w-[350px] flex flex-col border-r border-[#DADCE0] bg-gray-50 ${l||r?"hidden md:flex":"flex"}`,children:[e.jsxs("div",{className:"p-4 border-b border-[#DADCE0] space-y-3 bg-white",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-sm font-bold text-[#5F6368] uppercase tracking-wider",children:"Achievements"}),e.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-0.5 rounded-full",children:x.length})]}),e.jsx("div",{className:"relative",children:e.jsx(u,{placeholder:"Search achievements...",icon:"search",value:c,onChange:t=>w(t.target.value)})}),e.jsx("div",{className:"flex gap-2 overflow-x-auto pb-1 no-scrollbar mask-fade",children:b.map(t=>e.jsx("button",{onClick:()=>N(t),className:`whitespace-nowrap px-3 py-1 rounded-full text-xs font-medium transition-colors ${m===t?"bg-[#1A73E8] text-white":"bg-gray-200 text-gray-600 hover:bg-gray-300"}`,children:t},t))})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto w-full pb-24",children:[e.jsxs("button",{onClick:h,className:"hidden md:flex mx-4 mt-3 mb-2 items-center justify-center gap-2 py-2 border border-dashed border-[#DADCE0] rounded-lg text-[#1A73E8] text-sm font-medium hover:bg-[#F8F9FA] transition-colors w-[calc(100%-2rem)]",children:[e.jsx("span",{className:"material-symbols-outlined text-lg",children:"emoji_events"}),"Add New Achievement"]}),e.jsx("div",{className:"divide-y divide-[#DADCE0]/50",children:f.length===0?e.jsx("div",{className:"p-8 text-center text-gray-500 text-xs italic",children:"No items match your filter."}):f.map(t=>e.jsxs("div",{onClick:()=>C(t),className:`mx-4 mb-3 p-4 rounded-xl border transition-all cursor-pointer flex items-center justify-between group relative overflow-hidden ${l?.id===t.id?"bg-[#E8F0FE] border-[#1A73E8] shadow-sm":"bg-white border-[#DADCE0] hover:border-[#1A73E8] hover:shadow-md"}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`size-10 rounded-lg flex items-center justify-center shrink-0 ${l?.id===t.id?"bg-white":"bg-gray-50 border border-gray-100"}`,children:e.jsx("span",{className:`material-symbols-outlined text-xl ${t.category==="Certificate"?"text-[#1A73E8]":"text-[#F9AB00]"}`,children:t.category==="Certificate"?"verified":"emoji_events"})}),e.jsxs("div",{children:[e.jsx("h4",{className:`font-medium text-base mb-0.5 ${l?.id===t.id?"text-[#1967D2]":"text-[#202124]"}`,children:t.title}),e.jsxs("p",{className:"text-xs text-[#5F6368] flex items-center gap-1",children:[e.jsx("span",{children:t.category}),e.jsx("span",{children:"â€¢"}),e.jsx("span",{children:t.date})]})]})]}),e.jsx("div",{className:`absolute top-3 right-3 size-2 rounded-full ${t.isVisible?"bg-green-500 shadow-[0_0_6px_rgba(34,197,94,0.4)]":"bg-gray-300"}`})]},t.id))})]}),e.jsx("button",{onClick:h,className:"md:hidden absolute bottom-6 right-6 z-20 size-14 bg-[#1A73E8] text-white rounded-2xl shadow-lg flex items-center justify-center hover:bg-[#1557B0] active:scale-90 transition-all",children:e.jsx("span",{className:"material-symbols-outlined text-2xl",children:"add"})})]}),e.jsx("div",{className:`flex-1 flex flex-col bg-white overflow-y-auto ${!l&&!r?"hidden md:flex":"flex fixed top-16 left-0 right-0 bottom-0 z-30 md:static md:z-auto"}`,children:l||r?e.jsxs("form",{onSubmit:D,className:"flex flex-col h-full bg-white",children:[e.jsxs("div",{className:"h-16 border-b border-[#DADCE0] flex items-center justify-between px-4 md:px-8 bg-white shrink-0 sticky top-0 z-10",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{type:"button",onClick:()=>{d(null),o(!1)},className:"md:hidden mr-1 p-2 rounded-full hover:bg-gray-100 -ml-3 text-gray-600",children:e.jsx("span",{className:"material-symbols-outlined",children:"arrow_back"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-normal text-[#202124]",children:r?"New Achievement":"Edit Details"}),e.jsx("p",{className:"text-xs text-gray-500",children:r?"Celebrate your wins.":`ID: ${l?.id}`})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[!r&&e.jsx("button",{type:"button",onClick:g,className:"hidden md:block text-[#D93025] hover:bg-[#FCE8E6] p-2 rounded-full transition-colors",title:"Delete Achievement",children:e.jsx("span",{className:"material-symbols-outlined",children:"delete"})}),e.jsx("button",{type:"submit",className:"bg-[#1A73E8] text-white px-6 py-2 rounded shadow-sm text-sm font-medium hover:shadow hover:bg-[#1557B0] transition-all",children:"Save Changes"})]})]}),e.jsxs("div",{className:"p-4 md:p-8 max-w-3xl mx-auto w-full space-y-6 md:space-y-8 animate-fade-in-up",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"block text-sm font-medium text-[#3C4043]",children:"Achievement Title"}),e.jsx(F,{value:s.title,onChange:t=>a({...s,title:t.target.value}),placeholder:"e.g. AWS Certified Solutions Architect",required:!0,autoFocus:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 md:gap-8",children:[e.jsx("div",{children:e.jsx(S,{label:"Category",value:s.category,onChange:t=>a({...s,category:t.target.value}),options:A.map(t=>({value:t,label:t}))})}),e.jsx("div",{children:e.jsx(u,{label:"Date / Year",value:s.date,onChange:t=>a({...s,date:t.target.value}),placeholder:"e.g. Dec 2024"})})]}),e.jsxs("div",{className:"bg-[#F8F9FA] p-4 md:p-6 rounded-lg border border-[#DADCE0]/50 space-y-4",children:[e.jsxs("h4",{className:"text-sm font-bold text-[#5F6368] mb-2 flex items-center gap-2",children:[e.jsx("span",{className:"material-symbols-outlined text-lg",children:"description"}),"Details"]}),e.jsx($,{value:s.description,onChange:t=>a({...s,description:t.target.value}),placeholder:"Describe why this is significant...",className:"min-h-[100px]"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 md:gap-8",children:[e.jsx("div",{children:e.jsx(u,{label:"Proof / Credential Link",icon:"link",value:s.proofUrl||"",onChange:t=>a({...s,proofUrl:t.target.value}),placeholder:"https://credly.com/..."})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-[#5F6368] uppercase mb-2",children:"Proof Image / Badge"}),e.jsx(E,{label:"Proof Image / Badge",value:s.image||"",onChange:t=>a(i=>({...i,image:t})),folder:"Achievements"})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-[#F8F9FA] rounded-lg border border-[#DADCE0]",children:[e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer",checked:s.isVisible,onChange:t=>a({...s,isVisible:t.target.checked})}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#1A73E8]"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"toggle",className:"block text-sm font-medium text-[#202124] cursor-pointer",children:"Visible Publicly"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Enable to show this achievement in your portfolio."})]})]}),!r&&e.jsx("div",{className:"md:hidden mt-4 pt-6 border-t border-[#DADCE0]",children:e.jsxs("button",{type:"button",onClick:g,className:"flex items-center justify-center gap-2 w-full py-3 text-[#D93025] border border-[#D93025] rounded-lg font-medium hover:bg-[#FCE8E6] transition-colors",children:[e.jsx("span",{className:"material-symbols-outlined",children:"delete"}),"Delete Achievement"]})})]})]}):e.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center p-8 bg-[#F8F9FA]/50",children:[e.jsx("div",{className:"size-24 bg-white rounded-full flex items-center justify-center shadow-sm mb-6 border border-[#DADCE0]",children:e.jsx("span",{className:"material-symbols-outlined text-5xl text-[#F9AB00]",children:"emoji_events"})}),e.jsx("h3",{className:"text-xl font-medium text-[#202124] mb-2",children:"Select an Achievement"}),e.jsx("p",{className:"text-gray-500 max-w-xs mb-8",children:"Showcase your certifications, awards, and hackathon wins."}),e.jsxs("button",{onClick:h,className:"flex items-center gap-2 px-6 py-3 bg-[#1A73E8] text-white rounded-full font-medium hover:bg-[#1557B0] hover:shadow-lg transition-all",children:[e.jsx("span",{className:"material-symbols-outlined",children:"add"}),"Add New Achievement"]})]})}),e.jsx("style",{children:`
                .no-scrollbar::-webkit-scrollbar { display: none; }
                .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
                .mask-fade { -webkit-mask-image: linear-gradient(to right, black 85%, transparent 100%); }
            `})]})}export{V as default};
