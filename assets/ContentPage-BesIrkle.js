import{b as T,r as d,j as e,t as v,G as H}from"./index-CH6VHjRI.js";import{I as o,a as C}from"./Inputs-lG10xZVY.js";function z(){const{hero:t,resumes:j,projects:m,skills:u,achievements:h,settings:c,updateHero:S,addResume:E,deleteResume:D,setResumeActive:L,updateSettings:x}=T(),R={name:t?.name||"",firstName:t?.firstName||"",headline:t?.headline||"",tagline:t?.tagline||"",bio:t?.bio||"",secondaryBio:t?.secondaryBio||"",email:t?.email||"",avatar:t?.avatar||"",github:t?.github||"",linkedin:t?.linkedin||"",socials:t?.socials||{},terminalGreeting:t?.terminalGreeting||"",greeting:t?.greeting||"",terminalStack:t?.terminalStack||[],customLinks:t?.customLinks||[]},[a,l]=d.useState(R),[N,w]=d.useState(!1),[b,y]=d.useState(!1),[k,F]=d.useState("");d.useEffect(()=>{t&&(l({name:t.name||"",firstName:t.firstName||"",headline:t.headline||"",tagline:t.tagline||"",bio:t.bio||"",secondaryBio:t.secondaryBio||"",email:t.email||"",avatar:t.avatar||"",github:t.github||"",linkedin:t.linkedin||"",socials:t.socials||{},terminalGreeting:t.terminalGreeting||"",greeting:t.greeting||"",terminalStack:t.terminalStack||[],customLinks:t.customLinks||[]}),F(t.terminalStack?.join(", ")||""))},[t]);const B=async s=>{s.preventDefault(),w(!0);const n=(async()=>{const i={...a,terminalStack:k.split(",").map(r=>r.trim()).filter(Boolean)};await S(i)})();v.promise(n,{loading:"Saving changes...",success:"Content updated successfully!",error:"Failed to update content"});try{await n}catch{}finally{w(!1)}},I=async s=>{const n=s.target.files?.[0];if(n){y(!0);try{const p=(await(U=>new Promise((G,P)=>{const g=new FileReader;g.readAsDataURL(U),g.onload=()=>G(g.result),g.onerror=$=>P($)}))(n)).split(",")[1],f=await H.request({action:"UPLOAD_FILE",data:{name:n.name,mimeType:n.type,base64:p,folder:"resumes"}});if(!f.success||!f.data?.url)throw new Error("Upload failed");const A=E({name:n.name,url:f.data.url,isActive:!1,dateAdded:new Date().toISOString()});v.promise(A,{loading:"Saving resume...",success:"Resume uploaded successfully!",error:"Failed to save resume"}),await A}catch(i){console.error(i),v.error("Failed to upload resume")}finally{y(!1)}}};return e.jsxs("div",{className:"max-w-[720px] mx-auto pb-10 px-4",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-normal text-[#202124]",children:"Content settings"}),e.jsx("p",{className:"text-[#5F6368] text-sm mt-1",children:"Manage public profile information."})]}),e.jsxs("form",{onSubmit:B,className:"space-y-6",children:[e.jsxs("div",{className:"bg-white border border-[#DADCE0] rounded-lg p-6 shadow-sm",children:[e.jsx("h3",{className:"text-base font-medium text-[#202124] mb-4",children:"Introduction"}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(o,{label:"Greeting",value:a.greeting||"Hi, I'm",onChange:s=>l({...a,greeting:s.target.value})}),e.jsx(o,{label:"Headline / Name",value:a.headline||"",onChange:s=>l({...a,headline:s.target.value})}),e.jsx(o,{label:"Tagline (Big Text)",value:a.tagline||"",onChange:s=>l({...a,tagline:s.target.value})}),e.jsx(C,{label:"Main Bio (e.g. Education/Role)",value:a.bio||"",onChange:s=>l({...a,bio:s.target.value}),className:"h-20"}),e.jsx(C,{label:"Secondary Bio (e.g. Coffee/Fun)",value:a.secondaryBio||"",onChange:s=>l({...a,secondaryBio:s.target.value}),className:"h-16"})]})]}),e.jsxs("div",{className:"bg-white border border-[#DADCE0] rounded-lg p-6 shadow-sm space-y-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-medium text-[#202124] mb-4",children:"Primary Socials"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(o,{label:"GitHub URL",value:a.github||"",onChange:s=>l({...a,github:s.target.value})}),e.jsx(o,{label:"LinkedIn URL",value:a.linkedin||"",onChange:s=>l({...a,linkedin:s.target.value})})]})]}),e.jsxs("div",{className:"border-t border-[#DADCE0] pt-6",children:[e.jsx("h3",{className:"text-base font-medium text-[#202124] mb-4",children:"Additional Links"}),e.jsxs("div",{className:"space-y-3",children:[a.customLinks?.map((s,n)=>e.jsxs("div",{className:"flex flex-col md:flex-row gap-3 items-start md:items-center bg-gray-50 p-3 rounded-lg md:bg-transparent md:p-0",children:[e.jsx(o,{className:"w-full bg-white",containerClassName:"w-full md:w-1/3",value:s.label,onChange:i=>{const r=[...a.customLinks||[]];r[n].label=i.target.value,l({...a,customLinks:r})},placeholder:"Platform (e.g. Twitter)"}),e.jsx(o,{className:"w-full bg-white",containerClassName:"w-full md:flex-1",value:s.url,onChange:i=>{const r=[...a.customLinks||[]];r[n].url=i.target.value,l({...a,customLinks:r})},placeholder:"URL"}),e.jsx("button",{type:"button",onClick:()=>{const i=a.customLinks?.filter((r,p)=>p!==n);l({...a,customLinks:i})},className:"text-[#5F6368] hover:text-[#D93025] p-2 self-end md:self-center",children:e.jsx("span",{className:"material-symbols-outlined text-lg",children:"delete"})})]},n)),e.jsxs("button",{type:"button",onClick:()=>l({...a,customLinks:[...a.customLinks||[],{label:"",url:""}]}),className:"text-sm text-[#1A73E8] font-medium flex items-center gap-1 mt-2 hover:bg-[#E8F0FE] px-3 py-1.5 rounded-full w-fit transition-colors",children:[e.jsx("span",{className:"material-symbols-outlined text-base",children:"add"}),"Add Link"]})]})]}),e.jsxs("div",{className:"border-t border-[#DADCE0] pt-6",children:[e.jsx("h3",{className:"text-base font-medium text-[#202124] mb-4 font-mono",children:"Terminal & Hero"}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(o,{label:"whoami",value:a.terminalGreeting||"",onChange:s=>l({...a,terminalGreeting:s.target.value}),className:"font-mono"}),e.jsx(o,{label:"locate --current-stack (Comma separated)",value:k,onChange:s=>F(s.target.value),placeholder:"Kubernetes, TypeScript, Rust",className:"font-mono"})]})]}),e.jsxs("div",{className:"border-t border-[#DADCE0] pt-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-base font-medium text-[#202124]",children:"Resume Management"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"file",accept:".pdf,.doc,.docx",className:"absolute inset-0 opacity-0 cursor-pointer w-full h-full",onChange:I,disabled:b}),e.jsx("button",{type:"button",className:`text-xs bg-[#E8F0FE] text-[#1967D2] font-medium px-4 py-2 rounded-full hover:bg-[#D2E3FC] ${b?"opacity-50":""}`,children:b?"Uploading...":"+ Upload New Resume"})]})]}),e.jsxs("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:[j.length===0&&e.jsx("p",{className:"text-sm text-[#5F6368] italic",children:"No resumes uploaded yet."}),j.map(s=>e.jsxs("div",{className:`flex items-center justify-between p-3 rounded border ${s.isActive?"bg-[#E6F4EA] border-green-200":"bg-white border-[#DADCE0]"}`,children:[e.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[e.jsx("div",{onClick:()=>L(s.id),className:`size-5 rounded-full border cursor-pointer flex items-center justify-center ${s.isActive?"border-[#188038]":"border-[#5F6368]"}`,children:s.isActive&&e.jsx("div",{className:"size-2.5 bg-[#188038] rounded-full"})}),e.jsxs("div",{className:"flex flex-col min-w-0",children:[e.jsx("a",{href:s.url,target:"_blank",rel:"noreferrer",className:"text-sm font-medium text-[#202124] truncate hover:text-[#1A73E8]",children:s.name}),e.jsx("span",{className:"text-[10px] text-[#5F6368]",children:s.isActive?"Active Public Resume":"Stored in Library"})]})]}),e.jsx("button",{type:"button",onClick:()=>D(s.id),className:"text-[#5F6368] hover:text-[#D93025] p-2 hover:bg-gray-100 rounded-full transition-colors",title:"Delete",children:e.jsx("span",{className:"material-symbols-outlined text-lg",children:"delete"})})]},s.id))]})]})]}),e.jsxs("div",{className:"bg-white border border-[#DADCE0] rounded-lg p-6 shadow-sm",children:[e.jsx("h3",{className:"text-base font-medium text-[#202124] mb-4",children:"Section Visibility"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("label",{className:`flex items-center gap-3 p-3 rounded-lg border ${m.length>0?"border-[#DADCE0] cursor-pointer hover:bg-[#F1F3F4]":"border-[#F1F3F4] bg-[#F8F9FA] opacity-50 cursor-not-allowed"}`,children:[e.jsx("input",{type:"checkbox",checked:c?.showProjects,onChange:s=>x({...c,showProjects:s.target.checked}),disabled:m.length===0,className:"w-4 h-4 text-[#1A73E8] border-gray-300 rounded focus:ring-[#1A73E8]"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-[#202124] text-sm font-medium block",children:"Show Projects"}),e.jsx("span",{className:"text-xs text-[#5F6368]",children:m.length===0?"Add projects to enable":`${m.length} projects`})]})]}),e.jsxs("label",{className:`flex items-center gap-3 p-3 rounded-lg border ${u.length>0?"border-[#DADCE0] cursor-pointer hover:bg-[#F1F3F4]":"border-[#F1F3F4] bg-[#F8F9FA] opacity-50 cursor-not-allowed"}`,children:[e.jsx("input",{type:"checkbox",checked:c?.showSkills,onChange:s=>x({...c,showSkills:s.target.checked}),disabled:u.length===0,className:"w-4 h-4 text-[#1A73E8] border-gray-300 rounded focus:ring-[#1A73E8]"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-[#202124] text-sm font-medium block",children:"Show Skills"}),e.jsx("span",{className:"text-xs text-[#5F6368]",children:u.length===0?"Add skills to enable":`${u.length} skills`})]})]}),e.jsxs("label",{className:`flex items-center gap-3 p-3 rounded-lg border ${h.length>0?"border-[#DADCE0] cursor-pointer hover:bg-[#F1F3F4]":"border-[#F1F3F4] bg-[#F8F9FA] opacity-50 cursor-not-allowed"}`,children:[e.jsx("input",{type:"checkbox",checked:c?.showAchievements,onChange:s=>x({...c,showAchievements:s.target.checked}),disabled:h.length===0,className:"w-4 h-4 text-[#1A73E8] border-gray-300 rounded focus:ring-[#1A73E8]"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-[#202124] text-sm font-medium block",children:"Show Achievements"}),e.jsx("span",{className:"text-xs text-[#5F6368]",children:h.length===0?"Add achievements to enable":`${h.length} achievements`})]})]}),e.jsxs("label",{className:"flex items-center gap-3 p-3 rounded-lg border border-[#DADCE0] cursor-pointer hover:bg-[#F1F3F4]",children:[e.jsx("input",{type:"checkbox",checked:c?.showContact,onChange:s=>x({...c,showContact:s.target.checked}),className:"w-4 h-4 text-[#1A73E8] border-gray-300 rounded focus:ring-[#1A73E8]"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-[#202124] text-sm font-medium block",children:"Show Contact"}),e.jsx("span",{className:"text-xs text-[#5F6368]",children:"Enable public contact form (messages saved to Admin Inbox)"})]})]})]})]}),e.jsxs("div",{className:"flex justify-between items-center bg-[#E8F0FE] p-4 rounded-lg sticky bottom-4 shadow-md",children:[e.jsx("span",{className:"text-xs text-[#1967D2]",children:"Changes autosave to context. Click Save to persist to Sheets."}),e.jsx("button",{type:"submit",disabled:N,className:"px-6 py-2 bg-[#1A73E8] text-white font-medium rounded text-sm hover:shadow-md transition-shadow disabled:opacity-50",children:N?"Saving...":"Save Changes"})]})]})]})}export{z as default};
